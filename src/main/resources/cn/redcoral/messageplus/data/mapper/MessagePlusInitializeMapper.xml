<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="cn.redcoral.messageplus.data.mapper.MessagePlusInitializeMapper">
    <update id="createMessage">
        CREATE TABLE IF NOT EXISTS `mp_message` (
            `id` bigint(30) unsigned NOT NULL AUTO_INCREMENT KEY COMMENT '主键id',
            `code` int(8) NOT NULL COMMENT '消息编码',
            `type` varchar(30) NOT NULL COMMENT '消息类型',
            `sender_id` varchar(30) NOT NULL COMMENT '发送者ID',
            `group_id` varchar(30) COMMENT '群组id',
            `chat_room_id` varchar(30) COMMENT '聊天室ID',
            `receiver_id` varchar(30) COMMENT '接收者ID',
            `data` varchar(30) NOT NULL COMMENT '消息数据',
            `create_time` timestamp not null comment ' 创建时间'
        ) ENGINE=InnoDB DEFAULT CHARSET=utf8 ROW_FORMAT=COMPACT comment '消息记录';
    </update>
    <update id="createChatroomBlacklistTable">
        CREATE TABLE IF NOT EXISTS `mp_chatroom_blacklist` (
            `id` bigint(30) unsigned NOT NULL AUTO_INCREMENT KEY COMMENT '主键id',
            `chatroom_id` varchar(30) NOT NULL COMMENT '群组id',
            `user_id` varchar(30) NOT NULL COMMENT '用户id'
        ) ENGINE=InnoDB DEFAULT CHARSET=utf8 ROW_FORMAT=COMPACT comment '群组黑名单';
    </update>
</mapper>